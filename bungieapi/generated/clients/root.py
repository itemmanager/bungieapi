# generated by update to not change manually
import dataclasses as dt
import typing as t

from bungieapi.base import BaseClient
from bungieapi.forge import forge
from bungieapi.generated import clients
from bungieapi.generated.types import GlobalAlert
from bungieapi.generated.types.common.models import (
    CoreSettingsConfiguration,
    CoreSystem,
)
from bungieapi.generated.types.exceptions import PlatformErrorCodes


@dt.dataclass(frozen=True)
class GetAvailableLocalesClientResponse:
    response: t.Mapping[str, str]
    error_code: "PlatformErrorCodes"
    throttle_seconds: int
    error_status: str
    message: str
    message_data: t.Mapping[str, str]
    detailed_error_trace: str


@dt.dataclass(frozen=True)
class GetCommonSettingsClientResponse:
    response: "CoreSettingsConfiguration"
    error_code: "PlatformErrorCodes"
    throttle_seconds: int
    error_status: str
    message: str
    message_data: t.Mapping[str, str]
    detailed_error_trace: str


@dt.dataclass(frozen=True)
class GetUserSystemOverridesClientResponse:
    response: t.Mapping[str, "CoreSystem"]
    error_code: "PlatformErrorCodes"
    throttle_seconds: int
    error_status: str
    message: str
    message_data: t.Mapping[str, str]
    detailed_error_trace: str


@dt.dataclass(frozen=True)
class GetGlobalAlertsClientResponse:
    response: t.Sequence["GlobalAlert"]
    error_code: "PlatformErrorCodes"
    throttle_seconds: int
    error_status: str
    message: str
    message_data: t.Mapping[str, str]
    detailed_error_trace: str


class Client(BaseClient):
    async def get_available_locales(
        self,
    ) -> GetAvailableLocalesClientResponse:
        """List of available localization cultures."""
        query = None
        result = await self.get(path="/GetAvailableLocales/", query=query)
        return forge(GetAvailableLocalesClientResponse, result)

    async def get_common_settings(
        self,
    ) -> GetCommonSettingsClientResponse:
        """Get the common settings used by the Bungie.Net environment."""
        query = None
        result = await self.get(path="/Settings/", query=query)
        return forge(GetCommonSettingsClientResponse, result)

    async def get_user_system_overrides(
        self,
    ) -> GetUserSystemOverridesClientResponse:
        """Get the user-specific system overrides that should be respected
        alongside common systems."""
        query = None
        result = await self.get(path="/UserSystemOverrides/", query=query)
        return forge(GetUserSystemOverridesClientResponse, result)

    async def get_global_alerts(
        self,
        includestreaming: t.Optional[bool] = None,
    ) -> GetGlobalAlertsClientResponse:
        """Gets any active global alert for display in the forum banners, help
        pages, etc.

        Usually used for DOC alerts.
        Parameters:
            includestreaming: Determines whether Streaming Alerts are included in results
        """
        query = {"includestreaming": includestreaming}
        result = await self.get(path="/GlobalAlerts/", query=query)
        return forge(GetGlobalAlertsClientResponse, result)

    @property
    def app(self) -> clients.app.Client:
        return clients.app.Client(self._session, self._path)

    @property
    def user(self) -> clients.user.Client:
        return clients.user.Client(self._session, self._path)

    @property
    def content(self) -> clients.content.Client:
        return clients.content.Client(self._session, self._path)

    @property
    def forum(self) -> clients.forum.Client:
        return clients.forum.Client(self._session, self._path)

    @property
    def group_v2(self) -> clients.group_v2.Client:
        return clients.group_v2.Client(self._session, self._path)

    @property
    def tokens(self) -> clients.tokens.Client:
        return clients.tokens.Client(self._session, self._path)

    @property
    def destiny2(self) -> clients.destiny2.Client:
        return clients.destiny2.Client(self._session, self._path)

    @property
    def community_content(self) -> clients.community_content.Client:
        return clients.community_content.Client(self._session, self._path)

    @property
    def trending(self) -> clients.trending.Client:
        return clients.trending.Client(self._session, self._path)

    @property
    def fireteam(self) -> clients.fireteam.Client:
        return clients.fireteam.Client(self._session, self._path)

    @property
    def social(self) -> clients.social.Client:
        return clients.social.Client(self._session, self._path)
