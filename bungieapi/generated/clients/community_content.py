# generated by update to not change manually
import dataclasses as dt
import typing as t

from bungieapi.base import BaseClient
from bungieapi.forge import forge
from bungieapi.generated.types.exceptions import PlatformErrorCodes
from bungieapi.generated.types.forum import PostSearchResponse


@dt.dataclass(frozen=True)
class GetCommunityContentClientResponse:
    response: "PostSearchResponse"
    error_code: "PlatformErrorCodes"
    throttle_seconds: int
    error_status: str
    message: str
    message_data: t.Mapping[str, str]
    detailed_error_trace: str


class Client(BaseClient):
    async def get_community_content(
        self,
        media_filter: int,
        page: int,
        sort: int,
    ) -> GetCommunityContentClientResponse:
        """Returns community content.

        Parameters:
            media_filter: The type of media to get
            page: Zero based page
            sort: The sort mode.
        """
        query = None
        result = await self.get(
            path=f"/CommunityContent/Get/{sort}/{media_filter}/{page}/", query=query
        )
        return forge(GetCommunityContentClientResponse, result)
